
<!DOCTYPE html>

<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Snelle inleiding threads &#8212; Objectgeoriënteerd Programmeren I</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Zoeken" href="../search.html" />
    <link rel="next" title="Observer pattern" href="9c_observer_pattern.html" />
    <link rel="prev" title="Design patterns" href="9a_design_patterns.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="nl">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo_1.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Objectgeoriënteerd Programmeren I</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Zoek in dit boek ..." aria-label="Zoek in dit boek ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../about/syllabus.html">
   Welkom
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Over deze cursus
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../about/literatuur.html">
   Literatuur
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Week 1
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/week_1.html">
   Onderwerpen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="1a_inleiding.html">
     Inleiding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="1b_variabelen_en_operatoren.html">
     Variabelen en operatoren
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="1c_invoer_en_uitvoer.html">
     Invoer en uitvoer
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../support/install.html">
   Practicum
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../problems/hello_world/index.html">
   Opgave
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/ex_1.html">
   Oefening
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercises/8-9_primitive_data.html">
     Primitieve gegevenstypen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercises/9a-9_variables_assignment.html">
     Variabelen en toekenningen
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Week 2
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/week_2.html">
   Onderwerpen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="2a1_methoden.html">
     Methoden
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2a2_methoden_en_testen.html">
     Methoden en testen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2b_condities_en_logica.html">
     Condities en logica
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/debuggen_en_methoden.html">
   Practicum
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../problems/calculator/index.html">
   Opgave
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/ex_2.html">
   Oefening
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercises/12_12_if_statements.html">
     Condities
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Week 3
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/week_3.html">
   Onderwerpen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="3a_lussen_en_strings.html">
     Lussen en strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="3b_arrays_en_referenties.html">
     Arrays en referenties
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="3c_string_mystery.html">
     String Mystery
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/multiplication/index.html">
   Practicum
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../problems/profiler/index.html">
   Opgave
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/ex_3.html">
   Oefening
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercises/string_loops.html">
     Strings en lussen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercises/codingbat_strings.html">
     CodingBat strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercises/codingbat_arrays.html">
     CodingBat arrays
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Week 4
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/week_4.html">
   Onderwerpen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="4a_recursie.html">
     Recursie
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="4b_immutable_objecten.html">
     Immutabiliteit
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/nested_circles/index.html">
   Practicum
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../problems/recursive_graphics/index.html">
   Opgave
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/ex_4.html">
   Oefening
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercises/codingbat_recursie.html">
     CodingBat recursie
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercises/grote_getallen.html">
     Grote getallen
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Week 5
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/week_5.html">
   Onderwerpen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="5a_mutable_klassen_en_objecten.html">
     Mutable klassen en objecten
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="5b_klassen_ontwerpen.html">
     Klassen ontwerpen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/cone/index.html">
   Practicum
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../problems/class_design/index.html">
   Opgave
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/ex_5.html">
   Oefening
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../problems/clock/index.html">
     Klassen ontwerpen
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Week 6
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/week_6.html">
   Onderwerpen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="6a_static_en_collections.html">
     Static en collections
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="6b_javadoc.html">
     Javadoc
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="6c_testen.html">
     Testen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/bouncing_balls/index.html">
   Practicum
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../problems/simulation/index.html">
   Opgave
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Week 8
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/week_8.html">
   Onderwerpen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="7a_klassen_hergebruiken.html">
     Overerving en abstracte klassen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="7b_klassen.html">
     Meer over klassen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../problems/verhuur/index.html">
   Opgave
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Week 9
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/week_9.html">
   Onderwerpen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="8_interfaces.html">
     Interfaces
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="8b_exceptions.html">
     Foutafhandeling en exceptions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/library/index.html">
   Practicum
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/exceptions_gooien.html">
   Opgave 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/exceptions_gebruiken.html">
   Opgave 2
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Week 10
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../course/week_10.html">
   Onderwerpen
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="9a_design_patterns.html">
     Design Patterns
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Threads
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="9c_observer_pattern.html">
     Observer pattern
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/observer_pattern.html">
   Practicum
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../problems/connect4/index.html">
   Opgave
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/exceptions_en_bestanden.html">
   Oefening
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Week 11
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course/week_11.html">
   Onderwerpen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="10a_decorator.html">
     Decorator Pattern
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="10b_factory.html">
     Factory Pattern
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercises/pizza/index.html">
   Practicum
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Schakel navigatie" aria-controls="site-navigation"
                title="Schakel navigatie" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download deze pagina"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/topics/9b_threads.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download het bronbestand" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Afdrukken naar pdf"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Volledig scherm"
        title="Volledig scherm"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/misja/OOP1/main?urlpath=lab/tree/topics/9b_threads.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Lancering Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Inhoud
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multitasking">
   Multitasking
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multithreading">
   Multithreading
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#een-voorbeeld">
   Een voorbeeld
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   Multithreading
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#de-klasse-counter-in-een-thread">
   De klasse Counter in een thread
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#een-modernere-aanpak">
   Een modernere aanpak
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="snelle-inleiding-threads">
<h1>Snelle inleiding threads<a class="headerlink" href="#snelle-inleiding-threads" title="Permalink naar deze titel">¶</a></h1>
<section id="multitasking">
<h2>Multitasking<a class="headerlink" href="#multitasking" title="Permalink naar deze titel">¶</a></h2>
<p>Op moderne hardware en besturingssystemen kunnen programma’s gelijktijdig en onafhankelijk van elkaar worden uitgevoerd. Dit wordt <strong>multitasking</strong> genoemd.</p>
<p>Het maakt daarbij niet uit of er daadwerkelijk fysiek meerdere processoren aanwezig zijn, meerdere processorkernen of dat het besturingssysteem er voor zorgt dat programma’s om en om een klein stukje tijd krijgen toegewezen (wat zo vaak gebeurt dat het lijkt alsof programma’s gelijktijdig worden uitgevoerd). Uiteraard bieden meerdere processoren en processorkernen een hogere prestatie dan één fysieke processor.</p>
</section>
<section id="multithreading">
<h2>Multithreading<a class="headerlink" href="#multithreading" title="Permalink naar deze titel">¶</a></h2>
<p>Multithreading gaat nog een stapje verder: Niet alleen programma’s worden gelijktijdig uitgevoerd, maar binnen een programma kunnen bepaalde delen gelijktijdig en onafhankelijk van elkaar worden uitgevoerd. Dit wordt <strong>multithreading</strong> genoemd.</p>
<p>Een programma wordt in dat geval opgesplists in <strong>threads</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Notitie</p>
<p>Multithreading de basis
Multithreading is een groot onderwerp, waar complete boeken over zijn geschreven. Het gelijktijdig uitvoeren van delen van een programmma zorgt voor veel complexiteit. Bijvoorbeeld: Wat als verschillende delen gelijktijdig een object veranderen? In deze inleiding wordt alleen de basis besproken.</p>
</div>
</section>
<section id="een-voorbeeld">
<h2>Een voorbeeld<a class="headerlink" href="#een-voorbeeld" title="Permalink naar deze titel">¶</a></h2>
<p>De klasse Counter telt van 1 tot en met een maximale waarde. Tussen de tellen wordt een aantal milliseconden gewacht.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Counter</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="p">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">maxvalue</span><span class="p">;</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="n">pause</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">Counter</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">maxvalue</span><span class="p">,</span> <span class="kt">long</span> <span class="n">pause</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">maxvalue</span> <span class="o">=</span> <span class="n">maxvalue</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">pause</span> <span class="o">=</span> <span class="n">pause</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">do</span> <span class="p">{</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">name</span><span class="o">+</span><span class="s">&quot; - &quot;</span><span class="o">+</span><span class="n">value</span><span class="p">);</span>
            <span class="n">value</span><span class="o">++</span><span class="p">;</span>
            <span class="k">try</span> <span class="p">{</span>
                <span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">pause</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">while</span><span class="p">(</span><span class="n">value</span><span class="o">&lt;=</span><span class="n">maxvalue</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Via de constructor worden de instantievariabelen <strong>name</strong>, <strong>maxvalue</strong> en <strong>pause</strong> geïnitialiseerd.</p>
<p>De methode <strong>run</strong> voert het daadwerkelijke tellen uit.</p>
<p>De methode <strong>Thread.sleep</strong> zorgt voor een pauze. Omdat deze mogelijk de checked exception <strong>InterruptedException</strong> gooit, is een <em>try..catch-block</em> noodzakelijk.</p>
<p>Vanuit een main-methode is het eenvoudig om een aantal tellers te maken en uit te voeren:</p>
<div class="highlight-code notranslate"><div class="highlight"><pre><span></span>    Counter c1 = new Counter(&quot;Counter 1&quot;, 20, 200);
    Counter c2 = new Counter(&quot;Counter 2&quot;, 10, 700);
    Counter c3 = new Counter(&quot;Counter 3&quot;, 10, 340);
    c1.run();
    c2.run();
    c3.run();
</pre></div>
</div>
<p>De tellers worden <u>achter elkaar</u> uitgevoerd. Eerst teller 1, dan teller 2 en tot slot teller 3. Teller 1 gaat duidelijk sneller dan teller 2. Maar het gebeurt achter elkaar, in een volledig voorspelbare volgorde.</p>
</section>
<section id="id1">
<h2>Multithreading<a class="headerlink" href="#id1" title="Permalink naar deze titel">¶</a></h2>
<p>Een Java-programma bestaat uit minimaal één thread die de main-methode start. Daarnaast kunnen meerdere threads worden gemaakt.</p>
<p>Dit gebeurt als volgt:</p>
<ul class="simple">
<li><p>Maak een instantie van een klasse die de interface <strong>Runnable</strong> implementeert. De methode <strong>run</strong> bevat de code die door de thread moet worden uitgevoerd.</p></li>
<li><p>Maak een instantie van klasse <em>Thread</em>, geef de instantie van de thread die <strong>Runnable</strong> imlementeert mee aan de constructor.</p></li>
<li><p>Roep de methode <strong>start</strong> aan van het thread-object om de thread te starten.</p></li>
</ul>
</section>
<section id="de-klasse-counter-in-een-thread">
<h2>De klasse Counter in een thread<a class="headerlink" href="#de-klasse-counter-in-een-thread" title="Permalink naar deze titel">¶</a></h2>
<p>Voordat de Counter met een thread kan worden gebruikt, dient een kleine aanpassing te worden gemaakt: Counter moet de interface <strong>Runnable</strong> implementeren:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Counter</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="p">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">maxvalue</span><span class="p">;</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="n">pause</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">Counter</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">maxvalue</span><span class="p">,</span> <span class="kt">long</span> <span class="n">pause</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">maxvalue</span> <span class="o">=</span> <span class="n">maxvalue</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">pause</span> <span class="o">=</span> <span class="n">pause</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">do</span> <span class="p">{</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">name</span><span class="o">+</span><span class="s">&quot; - &quot;</span><span class="o">+</span><span class="n">value</span><span class="p">);</span>
            <span class="n">value</span><span class="o">++</span><span class="p">;</span>
            <span class="k">try</span> <span class="p">{</span>
                <span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">pause</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">while</span><span class="p">(</span><span class="n">value</span><span class="o">&lt;=</span><span class="n">maxvalue</span><span class="p">);</span>
    <span class="p">}</span>
    
<span class="p">}</span>
</pre></div>
</div>
<p>De interface Runnable bevat één methode:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Vervolgens kan de Counter met een thread worden uitgevoerd:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span>    <span class="n">Counter</span> <span class="n">c1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Counter</span><span class="p">(</span><span class="s">&quot;Counter 1&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>
    <span class="n">Counter</span> <span class="n">c2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Counter</span><span class="p">(</span><span class="s">&quot;Counter 2&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">700</span><span class="p">);</span>
    <span class="n">Counter</span> <span class="n">c3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Counter</span><span class="p">(</span><span class="s">&quot;Counter 3&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">340</span><span class="p">);</span>
    <span class="n">Thread</span> <span class="n">t1</span><span class="o">=</span><span class="k">new</span> <span class="n">Thread</span><span class="p">(</span><span class="n">c1</span><span class="p">);</span>
    <span class="n">Thread</span> <span class="n">t2</span><span class="o">=</span><span class="k">new</span> <span class="n">Thread</span><span class="p">(</span><span class="n">c2</span><span class="p">);</span>
    <span class="n">Thread</span> <span class="n">t3</span><span class="o">=</span><span class="k">new</span> <span class="n">Thread</span><span class="p">(</span><span class="n">c3</span><span class="p">);</span>
    <span class="n">t1</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>
    <span class="n">t2</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>
    <span class="n">t3</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>
</pre></div>
</div>
<p>De tellers vinden hiermee gelijktijdig plaats. De meldingen van de tellers komen door elkaar op de console. De volgorde is niet meer geheel voorspelbaar.</p>
<p>Let op! Veel gemaakte beginnersfout bij het werken met threads is dat in plaats van de methode <strong>start</strong> de methode <strong>run</strong> wordt aangeroepen. De methode <strong>run</strong> voert de inhoud van de methode <strong>run</strong> uit, maar niet in de betreffende thread zodat er geen sprake is van multithreading.</p>
</section>
<section id="een-modernere-aanpak">
<h2>Een modernere aanpak<a class="headerlink" href="#een-modernere-aanpak" title="Permalink naar deze titel">¶</a></h2>
<p>Het rechtsteeks gebruik maken van de klasse <strong>Thread</strong> is de traditionele manier om threads te gebruiken in Java.</p>
<p>Een modernere aanpak is het gebruik van threadpools:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.util.concurrent.ExecutorService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.Executors</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="p">;</span>

    <span class="n">Counter</span> <span class="n">c1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Counter</span><span class="p">(</span><span class="s">&quot;Counter 1&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>
    <span class="n">Counter</span> <span class="n">c2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Counter</span><span class="p">(</span><span class="s">&quot;Counter 2&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">700</span><span class="p">);</span>
    <span class="n">Counter</span> <span class="n">c3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Counter</span><span class="p">(</span><span class="s">&quot;Counter 3&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">340</span><span class="p">);</span>
    <span class="c1">// Threadpool maken</span>
    <span class="n">ExecutorService</span> <span class="n">executor</span> <span class="o">=</span> <span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    <span class="c1">// Runnables toevoegen aan de threadpool (threads worden automatisch gemaakt en gestart)</span>
    <span class="n">executor</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="n">c1</span><span class="p">);</span>
    <span class="n">executor</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="n">c2</span><span class="p">);</span>
    <span class="n">executor</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="n">c3</span><span class="p">);</span>
    <span class="c1">// Executor service afsluiten (uitvoering de threads gaat onverminderd door)</span>
    <span class="n">executor</span><span class="p">.</span><span class="na">shutdown</span><span class="p">();</span>
    <span class="c1">// Wachten tot alle threads klaar zijn (met timeout van 10 seconden)</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">executor</span><span class="p">.</span><span class="na">awaitTermination</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">TimeUnit</span><span class="p">.</span><span class="na">SECONDS</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
    <span class="p">}</span>
</pre></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "java"
        },
        kernelOptions: {
            kernelName: "java",
            path: "./topics"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'java'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="9a_design_patterns.html" title="vorige pagina">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">vorige</p>
            <p class="prev-next-title">Design patterns</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="9c_observer_pattern.html" title="volgende pagina">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">volgende</p>
        <p class="prev-next-title">Observer pattern</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          Door Hanzehogeschool Groningen<br/>
        
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>